<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sacola- EXCLUSIVIST</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gruppo&family=Rokkitt:ital,wght@0,100..900;1,100..900&family=Tenor+Sans&display=swap" rel="stylesheet">
    <link rel="website icon" href="imagens/Design sem nome.svg">
    <style>
        body {
    font-family: "Tenor Sans", sans-serif;
    margin: 0;
    padding: 0;
}


nav {
    display: flex;
    justify-content: space-between;
    background-color: white;
    padding: .625rem;
    border: .0625rem solid gray;
    position: relative;
    width: 100%;
}

nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
}

nav ul li {
    margin-right: 1.25rem;
}

nav ul.nav-left li a,
nav ul.nav-right li a {
    color: rgb(0, 0, 0);
    text-decoration: none;
    padding: .625rem .9375rem;
    display: flex;
    justify-content: center;
    align-items: center;
}

nav ul.nav-right li a img {
    width: 1.5625rem;
    height: 1.5625rem;
    object-fit: cover;
}

main {
    padding: 1.25rem;
}

footer {
    background-color: #333;
    color: white;
    text-align: center;
    padding: .625rem;
    position: static;
    bottom: 0;
    width: 100vh;
}

ul.nav-left {
    margin: 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-left: .9375rem;
}

ul.nav-right img {
    width: 2.5rem;
    height: 2.5rem;
    
}

.logo img {
    width: 5.625rem;
    height: 3.1837rem;
    object-fit: cover;
}

#search-bar {
    width: 100%;
    padding: .3125rem;
    border: .0625rem solid #ccc;
    border-radius: .25rem;
    box-sizing: border-box;
}

#search-results li {
    padding: .625rem;
    cursor: pointer;
    border-bottom: .0625rem solid #ccc;
    
}

#search-results li:hover {
    background-color: #f0f0f0;
}

.cart-container {
    width: 50%;
    margin: 50px auto;
    background-color: #fff;
    padding: 20px;
    box-shadow: 10px 10px 30px 30px rgba(0, 0, 0, 0.1);
}

.cart-container h1 {
    text-align: center;
    margin-bottom: 20px;
}

.cart-item {
    display: flex;
    align-items: center;
    border-bottom: 1px solid #ddd;
    padding: 10px 0;
}

.cart-item img {
    width: 100px;
    height: 100px;
    margin-right: 20px;
}

.item-details {
    flex: 1;
}

.item-details h2 {
    margin: 0;
}

.item-details p {
    margin: 5px 0;
}

.item-details label {
    margin-right: 10px;
}

.item-details input {
    width: 50px;
}

.remove-btn {
    background-color: #ffffff;
    color: #000000;
    border: 1px solid black;
    border: none;
    padding: 10px;
    cursor: pointer;
}

.remove-btn:hover {
    background-color: #ff0000;
    color: rgb(255, 255, 255);
    transition: 0.6s;
}

.cart-total {
    text-align: right;
    margin-top: 20px;
}

.checkout-btn {
    width: 100%;
    padding: 15px;
    background-color: #5eff00;
    color: #ffffff;
    border: solid 1px white;
    cursor: pointer;
    font-size: 16px;
}

.checkout-btn:hover {
    background-color: #ffffff;
    border: solid 1px black;
    color: rgb(0, 0, 0);
    transition: 0.7s;
}

.continuar-btn{ 
    margin-top: 5px;
    width: 100%;
    padding: 15px;
    background-color: #000000;
    color: #fff;
    border: none;
    cursor: pointer;
    font-size: 16px;
}

.continuar-btn:hover{
    background-color: white;
    border: solid 1px black;
    color: black;
    transition: 0.3s;
}
#payment-container {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 1px solid #ccc;
            padding: 20px;
            background-color: #fff;
            z-index: 1000;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        #overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        .payment-section {
            margin-bottom: 10px; 
            width: 100%;
            display: flex;
        } 
      

        input{
            height: 25px;
            width: 100%; 
            text-align: left;
        }

        #info-cartao{
            /* display: flex; */
            width: 450px;
        } 

        #info-cartao input {
            width: 100%;
            /* margin-right: 6px ; */
            justify-content: space-between;
            gap: 6px;
        }
        .fechar{
            width: 20px;
            height: 20px; 
            background-color: white;
            border: 1px solid black;
            text-align: center;
            position: static; 
            margin-left: 334px;
        }

        .fechar:hover{
            background-color: rgb(255, 0, 0);
            border: 1px solid red;
            color: white; 
            transition: 0.4s;
        } 
        .pagar{
            width: 100%;
            height: 38px;
            background-color: green; 
            color: white; 
            border: 1px solid white;

        }
  
        .pagar:hover{
            background-color: rgb(0, 0, 0); 
            border: 1px solid gray;
        } 

        .select#forma-pagamento{
            width: 100px; 
            height: 20px; 
            text-align: center;

        }

        .pages1:hover{
    color: gray;
    text-decoration-line: underline;
} 
.pages2:hover{
    color: gray;
    text-decoration-line: underline;
} 
.pages3:hover{
    color: gray;
    text-decoration-line: underline;
} 
.pages4:hover{
    color: gray;
    text-decoration-line: underline;
} 
.pages5:hover{
    color: gray;
    text-decoration-line: underline;
} 


    </style>
</head>
<body>
    
    <nav>
        <ul class="nav-left">
            <div class="logo">
                <img src="imagens/1of1-logo1.webp" alt="logo">
            </div>

            <li><a class="pages1" href="index.html" target="_self">Início</a></li>
            <li><a class="pages2" href="produtos.html" target="_self">Produtos</a></li>
            <li><a class="pages3" href="sobre.html" target="_self">Sobre</a></li>
            <li><a class="pages4" href="galeria.html" target="_self">Galeria</a></li>
            <li><a class="pages5" href="Collab.html" target="_self">Collab</a></li>

        </ul>
            
            

        <ul class="nav-right">
            <div class="search-container">
                <input type="text" id="search-bar" placeholder="Pesquisar...">
                <ul id="search-results"></ul>
            </div>
            <script src="script.js"></script>
            <li><a  href="#"><img src="imagens/lupa.png" alt="lupa"></a></li>
            <li><a  href="usuario.html"><img src="imagens/usuario1.png" alt="usuario"></a></li>
            <li><a  href="sacola.html"><img src="imagens/sacola.png" alt="sacola"></a></li>
        </ul>
    </nav>



    <div class="cart-container">
        <h1>Carrinho de Compras</h1>
        
        <div class="cart-total">
            <h3>Total: R$ 80,00</h3>
        </div>
        <button class="checkout-btn" onclick="finalizarCompra()">Finalizar Compra</button>


        <a href="produtos.html"> <button href="produtos.html" class="continuar-btn">Continuar Comprando</button></a>
       
    </div> 

    <div id="overlay"></div>
    <div id="payment-container">
        <button class="fechar" onclick="fecharPagamento()">X</button> 

        <h2>Informações de Pagamento</h2>

        <div class="payment-section">
            <input placeholder="Nome Completo" type="text" id="nome" required>
        </div>
        <div class="payment-section">
            <input placeholder="Email" type="email" id="email" required>
        </div>
        <div class="payment-section">
            <input placeholder="Confirmar Email" type="email" id="confirmar-email" required>
        </div>
        <div class="payment-section">
            <input placeholder="CPF" type="text" id="cpf" required>

            <input placeholder="Telefone com DDD" type="text" id="telefone" required>

        </div>
        <div class="payment-section">
            <label for="forma-pagamento">Forma de Pagamento:</label>

            <select id="forma-pagamento" onchange="mostrarOpcoesPagamento()">
                <option value="pix">PIX</option>
                <option value="cartao">Cartão de Crédito</option>
            </select> 
        </div>
        <div id="opcoes-cartao" style="display: none;">
            <div class="payment-section">
                <input placeholder="Número do Cartão de Crédito" maxlength="16"  type="text" id="numero-cartao">
            </div>
            <div id="info-cartao" class="payment-section">
                <input placeholder="Mês" type="text" maxlength="2" id="mes" required>
                <input placeholder="Ano" type="text" maxlength="2" id="ano" required>
                <input placeholder="Código de Segurança" type="text" maxlength="3" id="codigo-seguranca" required>


            </div>
           
            <div class="payment-section">
                <label for="parcelas">Parcelas:</label>
                <select id="parcelas" onchange="calcularParcelas()">
                    <option value="1">1x</option>
                    <option value="2">2x</option>
                    <option value="3">3x</option>
                </select>
            </div>
            <div class="payment-section">
                <p id="valor-parcelas"></p>
            </div>
        </div>
        <a href="Pagamento-concluido.html"><button class="pagar" >Concluir Pagamento</button></a>
        

    </div> 


    <script>
        
    document.addEventListener('DOMContentLoaded', function() {
        const cartContainer = document.querySelector('.cart-container');
        const cart = JSON.parse(localStorage.getItem('cart')) || [];

        cart.forEach((product, index) => {
            const cartItem = document.createElement('div');
            cartItem.classList.add('cart-item');
            cartItem.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div class="item-details">
                    <h2>${product.name}</h2>
                    <p>Preço: ${product.price}</p>
                    <label for="quantity${index}">Quantidade:</label>
                    <input type="number" id="quantity${index}" name="quantity${index}" value="${product.quantity}" min="1">
                </div>
                <button class="remove-btn" data-index="${index}">Remover</button>
            `;
            cartContainer.appendChild(cartItem);
        });

        calculateTotal();
    });

    function calculateTotal() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        let total = 0;
        cart.forEach(product => {
            const price = parseFloat(product.price.replace('R$', '').replace(',', '.'));
            total += price * product.quantity;
        });
        document.querySelector('.cart-total').textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    //remover itens do carrinho 

    document.addEventListener('click', function(event) {
        if (event.target.classList.contains('remove-btn')) {
            const index = event.target.getAttribute('data-index');
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            event.target.parentElement.remove();
            calculateTotal();
        }  
    }); 

    //atualizando quantidade e total 
   
    document.addEventListener('change', function(event) {
        if (event.target.type === 'number') {
            const index = event.target.id.replace('quantity', '');
            const newQuantity = parseInt(event.target.value, 10);
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart[index].quantity = newQuantity;
            localStorage.setItem('cart', JSON.stringify(cart));
            calculateTotal();
        }
    }); 

    

    //opções de pagamento 
    function finalizarCompra() {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('payment-container').style.display = 'block';
        }

        function fecharPagamento() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('payment-container').style.display = 'none';
        }

        function mostrarOpcoesPagamento() {
            const formaPagamento = document.getElementById('forma-pagamento').value;
            const opcoesCartao = document.getElementById('opcoes-cartao');
            if (formaPagamento === 'cartao') {
                opcoesCartao.style.display = 'block';
            } else {
                opcoesCartao.style.display = 'none';
            }
        }
        
        //função para calcular parcela 1 

        // function calcularParcelas() {
        //    let parcelas = document.getElementById('parcelas').value;
        //    let result = document.getElementById(calculateTotal())
        //    let valorParcela = result / parcelas;
        //     document.getElementById('valor-parcelas').innerText = 'Valor de cada parcela: R$ ' + valorParcela.toFixed(2);

        //     calcularParcelas()
        // }

        //função para calcular parcela 2 

        let valorTotal = calculateTotal(); 
        
        function calcularParcelas(valorTotal) {
  // Verifica se o valor total é válido
        if (valorTotal <= 0) {
            return "O valor total deve ser maior que zero.";
        } 

        // Calcula as parcelas
        let parcelas = [];
        for (let i = 1; i <= 3; i++) {
            let valorParcela = valorTotal / i;
            parcelas.push({
            numeroParcelas: i,
            valorParcela: valorParcela.toFixed(2)
            });
  }

  return parcelas;
} 

// let parcelas = calcularParcelas(valorTotal); 
//     document.getElementById("valor-parcelas").innerText = 'Valor de cada parcela: R$ ' + valorParcela.toFixed(2);



    </script>

</body>
</html>